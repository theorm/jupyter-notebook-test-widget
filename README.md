# Installing

Instructions below are for `JupyterLab 3.x`.

## Virtual environment and Jupyter Lab

Prepare a dedicated virtual environment and install the latest version of JupyterLab.

```shell
virtualenv .venv
```

```shell
. ./venv/bin/activate
```

```shell
pip install jupyterlab
```

## Install the extension

`JupyterLab 3.x+` introduced a `packed extensions` installation method.
JavaScript code is bundled and installed as a part of a Python library.
This way JupyterLab does not need to be rebuilt.

During development it is recommended to link the extension project using the following command:

```
jupyter labextension develop . --overwrite --debug
```

This is similar to `pip install -e`.

JavaScript code is compiled and the bundle is copied into the python code directory with the following command:

```
jupyter labextension build --debug --development True .
```

Run the command above every time you need to rebuild the JS part of the extension.

**OR* run it in watch mode:

```
jupyter labextension watch --debug --development True .
```

then in another terminal session run typescript compiler in watch mode:

```
yarn watch:lib
```

## Run Jupyter Lab

```bash
jupyter lab
```

Open the `notebooks/test_widget.ipynb` file and run all cells.

# Actual code

Is in `src/widget.ts` and `rk_test_widget/example.py`. Everything else is mostly boilerplate.

# Boilerplate instructions below

**Everything below has been generated by cookiecutter from a template and is not for JupyterLab 3.x**

# asdf

[![Build Status](https://travis-ci.org//asdf.svg?branch=master)](https://travis-ci.org//rk_test_widget)
[![codecov](https://codecov.io/gh//asdf/branch/master/graph/badge.svg)](https://codecov.io/gh//asdf)


Test widget

## Installation

You can install using `pip`:

```bash
pip install rk_test_widget
```

Or if you use jupyterlab:

```bash
pip install rk_test_widget
jupyter labextension install @jupyter-widgets/jupyterlab-manager
```

If you are using Jupyter Notebook 5.2 or earlier, you may also need to enable
the nbextension:
```bash
jupyter nbextension enable --py [--sys-prefix|--user|--system] rk_test_widget
```

## Development Installation


```bash
# First install the python package. This will also build the JS packages.
pip install -e ".[test, examples]"
```

When developing your extensions, you need to manually enable your extensions with the
notebook / lab frontend. For lab, this is done by the command:

```
jupyter labextension install @jupyter-widgets/jupyterlab-manager --no-build
jupyter labextension install .
```

For classic notebook, you can run:

```
jupyter nbextension install --sys-prefix --symlink --overwrite --py rk_test_widget
jupyter nbextension enable --sys-prefix --py rk_test_widget
```

Note that the `--symlink` flag doesn't work on Windows, so you will here have to run
the `install` command every time that you rebuild your extension. For certain installations
you might also need another flag instead of `--sys-prefix`, but we won't cover the meaning
of those flags here.

### How to see your changes
#### Typescript:
To continuously monitor the project for changes and automatically trigger a rebuild, start Jupyter in watch mode:
```bash
jupyter lab --watch
```
And in a separate session, begin watching the source directory for changes:
```bash
npm run watch
```

After a change wait for the build to finish and then refresh your browser and the changes should take effect.

#### Python:
If you make a change to the python code then you will need to restart the notebook kernel to have it take effect.
